<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script type="module">
        import * as test_utils from "./test_utils.js";
        window.auto_focus_result = function(passed) {
            const fs = window.frame_stacker;
            test_utils.log_test(passed, 'Button with autofocus is focused when new layer is first pushed');
            document.getElementById('focus_restore').focus();
            fs.push('./focus_management_2.html', fs.full_layer, test_utils.run_tests);
        };
        window.focus_restore_passed = function(passed) {
            test_utils.log_test(passed, 'Focus was restored after layer resolved.');
            window.frame_stacker.resolve();
        };
    </script>
</head>
<body style="background-color: white;">
    The "Yes" button should focus automatically. Did that happen?
    <br>
    <button autofocus onclick="window.auto_focus_result(true)">Yes</button>
    <button onclick="window.auto_focus_result(false)">No</button>

    <p>The "Yes" button below should be focused after returning from the previous layer. Did that happen?</p>
    <button id="focus_restore" onclick="window.focus_restore_passed(true)">Yes</button>
    <button onclick="window.focus_restore_passed(false)">No</button>
</body>
</html>